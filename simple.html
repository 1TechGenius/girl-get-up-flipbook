<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gia Blessings â€” eBook Viewer (Simple)</title>
  <style>
    body{font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:#fafafa;color:#222}
    .wrap{max-width:980px;margin:40px auto;padding:0 16px}
    .card{background:#fff;border:1px solid #eee;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.05);padding:20px}
    .gate{max-width:520px;margin:80px auto}
    .row{display:flex;gap:8px}
    input[type=text]{flex:1;padding:12px 14px;border:1px solid #ddd;border-radius:8px}
    button{padding:12px 16px;border:0;border-radius:8px;background:#111;color:#fff;cursor:pointer}
    .hint{color:#666;margin-top:8px;font-size:14px}
    iframe{width:100%;height:100vh;border:0;display:block}
    .hide{display:none}
  </style>
</head>
<body>
  <div class="wrap">
    <div id="gate" class="card gate">
      <h3 style="margin:0 0 12px">Enter Access Code</h3>
      <div class="hint">Access is for purchasers only. Enter the code from your receipt to open the ebook.</div>
      <div class="row" style="margin-top:12px">
        <input id="code" type="text" placeholder="Access code" autocomplete="one-time-code" />
        <button id="unlock">Unlock</button>
      </div>
      <div id="msg" class="hint" style="color:#b00;margin-top:10px;display:none">Invalid code. Try again.</div>
    </div>
  </div>

  <iframe id="book" class="hide"></iframe>

  <script>
  // ------- settings -------
  const DAILY_CODE = '231503'; // change anytime and redeploy
  const EBOOK_URL  = '/pdf/Girl-Get-Up-eBook.pdf'; // adjust casing if needed
  // -----------------------

  const $ = sel => document.querySelector(sel);
  const gate  = $('#gate');
  const input = $('#code');
  const btn   = $('#unlock');
  const msg   = $('#msg');
  const frame = $('#book');

  function openBook(){
    gate.classList.add('hide');
    frame.src = EBOOK_URL + '#toolbar=0&navpanes=0&scrollbar=0';
    frame.classList.remove('hide');
  }

  function tryUnlock(val){
    const ok = String(val||'').trim() === DAILY_CODE;
    msg.style.display = ok ? 'none' : 'block';
    if (ok) openBook();
  }

  btn.addEventListener('click', () => tryUnlock(input.value));
  input.addEventListener('keydown', (e) => { if (e.key === 'Enter') tryUnlock(input.value); });

  // optional: allow direct link like ?code=654321
  const q = new URLSearchParams(location.search);
  const linkCode = q.get('code');
  if (linkCode) { input.value = linkCode; tryUnlock(linkCode); }
  </script>
</body>
</html>
