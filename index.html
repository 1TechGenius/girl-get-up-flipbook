<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0"
  />
  <title>Flipbook Viewer</title>

  <!-- 1. Use CDN for PageFlip CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/stpageflip@1.1.0/dist/css/pageflip.css"
  />

  <style>
    /* page styles */
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 2rem;
    }
    #flipbookContainer {
      display: none;
      margin-top: 2rem;
    }
    #errorMessage {
      color: red;
      margin-top: 1rem;
      display: none;
    }
  </style>
</head>
<body>

  <!-- ACCESS CODE ENTRY -->
  <h2>Enter Access Code</h2>
  <input
    type="text"
    id="accessCodeInput"
    placeholder="Enter your unique code"
    style="padding:0.6rem 1rem;font-size:1rem;border:1px solid #ccc;border-radius:5px;width:250px;"
  />
  <br /><br />
  <button
    onclick="validateAccessCode()"
    style="padding:0.6rem 1.5rem;font-size:1rem;background:#111;color:#fff;border:none;border-radius:5px;cursor:pointer;"
  >
    Unlock Flipbook
  </button>

  <p id="errorMessage">Invalid code. Please try again.</p>

  <!-- FLIPBOOK CONTAINER -->
  <div id="flipbookContainer">
    <div id="flipbook" style="width:90%; height:80vh; margin:auto;"></div>
  </div>

  <!-- 2. Use CDN for PageFlip JS -->
  <script
    src="https://unpkg.com/stpageflip@1.1.0/dist/js/pageflip.min.js"
  ></script>

  <script>
    function validateAccessCode() {
      const correctCode = "GGU2023ACCESS";
      const userInput = document
        .getElementById("accessCodeInput")
        .value.trim();
      const errorMsg = document.getElementById("errorMessage");

      if (userInput === correctCode) {
        errorMsg.style.display = "none";
        loadFlipbook();
      } else {
        errorMsg.style.display = "block";
      }
    }

    function loadFlipbook() {
      const flipbookContainer =
        document.getElementById("flipbookContainer");
      flipbookContainer.style.display = "block";

      const flipbook = new St.PageFlip(
        document.getElementById("flipbook"),
        {
          width: 600,
          height: 800,
          size: "stretch",
          minWidth: 315,
          maxWidth: 1000,
          minHeight: 400,
          maxHeight: 1536,
          showCover: true,
          drawShadow: true,
          flippingTime: 1000,
          mobileScrollSupport: false,
          useMouseEvents: true,
          disableFlipByClick: false,
          showPageCorners: true,
          useKeyboard: true,
          responsive: true
        }
      );

      // 3. Point at your live PDF URL
      flipbook.loadFromPDF(
        "https://assets.zyrosite.com/A3QOQlw2ewfbBvRv/girl-get-up-flipbook-mxBXVvZGjRuoJ9Oq.pdf"
      );
    }
  </script>
</body>
</html>
