<!doctype html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Gia Blessings — eBook Viewer</title>
<style>
  html,body{height:100%;margin:0;background:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  .wrap{height:100dvh;width:100vw;display:grid;grid-template-rows:auto 1fr}
  header{padding:12px 16px;color:#666}
  .stage{position:relative}
  .pdf{position:absolute;inset:0;border:0;width:100%;height:100%}

  /* Gate (white card, black button) */
  .gate{position:absolute;inset:0;display:grid;place-items:center;background:#fff;z-index:10}
  .card{width:min(480px,92vw);background:#fff;border:1px solid #e5e5e5;border-radius:14px;
        box-shadow:0 10px 30px rgba(0,0,0,.08);padding:20px;display:grid;gap:10px}
  .card h2{margin:0 0 4px;font-size:18px;color:#111}
  .card p{margin:0;color:#666}
  .row{display:grid;grid-template-columns:1fr auto;gap:10px;margin-top:6px}
  input{padding:12px 14px;border:1px solid #d4d4d4;border-radius:10px;font-size:15px}
  button{padding:12px 18px;border-radius:10px;font-weight:600;background:#111;color:#fff;border:1px solid #111;cursor:pointer}
  small{color:#666}
</style>

<div class="wrap">
  <header>Gia Blessings — eBook Viewer</header>
  <div class="stage">
    <!-- Native PDF viewer (no external libs) -->
    <iframe id="pdf" class="pdf" title="Girl, Get Up! eBook" loading="eager"></iframe>

    <!-- Gate -->
    <div id="gate" class="gate" role="dialog" aria-modal="true">
      <div class="card">
        <h2>Enter Access Code</h2>
        <p>Access is for purchasers only. Enter the code from your receipt to open the ebook.</p>
        <div class="row">
          <input id="code_input" type="password" placeholder="Access code" autocomplete="off" />
          <button id="unlock_btn" type="button">Unlock</button>
        </div>
        <small id="gate_msg" role="status"></small>
      </div>
    </div>
  </div>
</div>

<script>
  // Your exact settings
  const ACCESS_CODE = "GGU2025"; // case-sensitive
  const EBOOK_URL   = "/pdf/Girl-Get-Up-eBook.pdf#toolbar=0&navpanes=0&scrollbar=0";

  function openBook(){
    const frame = document.getElementById('pdf');
    frame.src = EBOOK_URL;
  }
  function hideGate(){
    const g = document.getElementById('gate');
    if (g) g.style.display = 'none';
  }
  function tryUnlock(raw){
    const code = (raw || "");
    const ok = code === ACCESS_CODE; // exact, case-sensitive
    if (ok){ hideGate(); openBook(); return true; }
    const msg = document.getElementById('gate_msg');
    if (msg) msg.textContent = "Invalid code. Try again.";
    return false;
  }

  document.addEventListener('DOMContentLoaded', function(){
    const input = document.getElementById('code_input');
    const btn   = document.getElementById('unlock_btn');
    if (btn && input){
      btn.addEventListener('click', () => tryUnlock(input.value));
      input.addEventListener('keydown', (e)=>{ if(e.key==='Enter') tryUnlock(input.value); });
      setTimeout(()=>{ try{ input.focus(); }catch(_){} }, 50);
    }
  });
</script>
