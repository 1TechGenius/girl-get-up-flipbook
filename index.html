<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Flipbook Viewer</title>

  <!-- 1) Load the PageFlip CSS from wherever you actually put it -->
  <link rel="stylesheet" href="dflip/css/dflip.min.css" />

  <!-- (Optional) your own styles -->
  <link rel="stylesheet" href="css/style.css" />
</head>
<body style="font-family:sans-serif; text-align:center; padding:3rem;">

  <!-- ACCESS CODE ENTRY -->
  <h2>Enter Access Code</h2>
  <input
    type="text"
    id="accessCodeInput"
    placeholder="Enter your unique code"
    style="padding:0.6rem 1rem; font-size:1rem; border:1px solid #ccc; border-radius:5px; width:250px;"
  />
  <br><br>
  <button
    onclick="validateAccessCode()"
    style="padding:0.6rem 1.5rem; font-size:1rem; background-color:#111; color:#fff; border:none; border-radius:5px; cursor:pointer;"
  >
    Unlock Flipbook
  </button>
  <p id="errorMessage" style="color:red; margin-top:1rem; display:none;">
    Invalid code. Please try again.
  </p>

  <!-- FLIPBOOK CONTAINER (hidden until the code is correct) -->
  <div id="flipbookContainer" style="display:none; margin-top:3rem;">
    <div id="flipbook" style="width:90%; height:80vh; margin:auto;"></div>
  </div>

  <!-- 2) Load the PageFlip JS from your real path -->
  <script src="libs/js/pageflip.min.js"></script>

  <!-- 3) Your inline logic -->
  <script>
    function validateAccessCode() {
      const correctCode = "GGU2023ACCESS";
      const userInput   = document.getElementById("accessCodeInput").value.trim();
      const errorMsg    = document.getElementById("errorMessage");

      if (userInput === correctCode) {
        errorMsg.style.display = "none";
        loadFlipbook();
      } else {
        errorMsg.style.display = "block";
      }
    }

    function loadFlipbook() {
      const flipbookContainer = document.getElementById("flipbookContainer");
      flipbookContainer.style.display = "block";

      const flipbook = new St.PageFlip(
        document.getElementById("flipbook"),
        {
          width:  600,
          height: 800,
          size:   "stretch",
          minWidth:  315,
          maxWidth: 1000,
          minHeight: 400,
          maxHeight:1500,
          showCover:    true,
          drawShadow:   true,
          flippingTime: 700,
          mobileScrollSupport: false,
          useMouseEvents:      true,
          disableFlipByClick:  false,
          showPageCorners:     true,
          useKeyboard:         true,
          responsive:          true
        }
      );

      // 4) point this at wherever your PDF really lives:
      flipbook.loadFromPDF("pdf/Girl-Get-Up-Flipbook.pdf");
    }
  </script>
</body>
</html>